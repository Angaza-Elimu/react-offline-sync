f4ef147f2f945747aedc28acb3089fb1
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _reduxMockStore = _interopRequireDefault(require("redux-mock-store"));

var _reduxThunk = _interopRequireDefault(require("redux-thunk"));

var _createNetworkMiddleware = _interopRequireWildcard(require("../redux/createNetworkMiddleware"));

var actionCreators = _interopRequireWildcard(require("../redux/actionCreators"));

var _wait = _interopRequireDefault(require("../utils/wait"));

var _constants = require("../utils/constants");

var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }

  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

var __generator = this && this.__generator || function (thisArg, body) {
  var _ = {
    label: 0,
    sent: function sent() {
      if (t[0] & 1) throw t[1];
      return t[1];
    },
    trys: [],
    ops: []
  },
      f,
      y,
      t,
      g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"] = function () {
    return this;
  }), g;

  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }

  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");

    while (_) {
      try {
        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
        if (y = 0, t) op = [op[0] & 2, t.value];

        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;

          case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;

          case 7:
            op = _.ops.pop();

            _.trys.pop();

            continue;

          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }

            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }

            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }

            if (t && _.label < t[2]) {
              _.label = t[2];

              _.ops.push(op);

              break;
            }

            if (t[2]) _.ops.pop();

            _.trys.pop();

            continue;
        }

        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    }

    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};

var getFetchAction = function getFetchAction(type) {
  return {
    type: type,
    payload: {
      isFetching: true
    }
  };
};

describe('createNetworkMiddleware with actionTypes in config', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    actionTypes: ['REFRESH_DATA']
  });
  var middlewares = [networkMiddleware, _reduxThunk.default];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('action DOES NOT match criteria', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch({
      type: 'TEST'
    });
    var actions = store.getActions();
    expect(actions).toEqual([{
      type: 'TEST'
    }]);
  });
  it('action MATCHES criteria, status ONLINE', function () {
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_SOME_DATA_REQUEST');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('FETCH_SOME_DATA_REQUEST')]);
  });
  it('action MATCHES criteria through REGEX, status OFFLINE', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_SOME_DATA_REQUEST');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('action MATCHES criteria through ARRAY of ACTION TYPES, status OFFLINE', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('action ENQUEUED, status back ONLINE', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var action1, action2, action3, prevActionQueue, initialState, store, actions;
      return __generator(this, function (_a) {
        action1 = getFetchAction('FETCH_SOME_DATA_REQUEST');
        action2 = getFetchAction('FETCH_SOMETHING_ELSE_REQUEST');
        action3 = getFetchAction('FETCH_USER_REQUEST');
        prevActionQueue = [action1, action2, action3];
        initialState = {
          network: {
            isConnected: false,
            actionQueue: prevActionQueue
          }
        };
        store = mockStore(initialState);
        store.dispatch(actionCreators.connectionChange(true));
        actions = store.getActions();
        expect(actions).toEqual([actionCreators.connectionChange(true)]);
        return [2];
      });
    });
  });
  it('action ENQUEUED, queue PAUSED, status queue RESUMED', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var action1, action2, action3, prevActionQueue, initialState, store, actions;
      return __generator(this, function (_a) {
        action1 = getFetchAction('FETCH_SOME_DATA_REQUEST');
        action2 = getFetchAction('FETCH_SOMETHING_ELSE_REQUEST');
        action3 = getFetchAction('FETCH_USER_REQUEST');
        prevActionQueue = [action1, action2, action3];
        initialState = {
          network: {
            isConnected: true,
            isQueuePaused: true,
            actionQueue: prevActionQueue
          }
        };
        store = mockStore(initialState);
        store.dispatch(actionCreators.changeQueueSemaphore(_constants.SEMAPHORE_COLOR.GREEN));
        actions = store.getActions();
        expect(actions).toEqual([actionCreators.changeQueueSemaphore(_constants.SEMAPHORE_COLOR.GREEN)]);
        return [2];
      });
    });
  });
});
describe('createNetworkMiddleware with NO CONFIG', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)();
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('REFRESH_ACTION does not match in this case in OFFLINE mode', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('REFRESH_DATA')]);
  });
});
describe('createNetworkMiddleware with different REGEX config', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    regexActionType: /REFRESH/
  });
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('REFRESH_ACTION MATCHES through REGEX in OFFLINE mode', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('FETCH_ACTION type no longer matches default REGEX', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('FETCH_DATA')]);
  });
});
describe('createNetworkMiddleware with thunks', function () {
  var fetchMockData = function fetchMockData(dispatch) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        dispatch({
          type: 'FETCH_DATA_SUCCESS'
        });
        resolve();
      }, 1000);
    });
  };

  var fetchData = function fetchData(dispatch) {
    dispatch({
      type: 'FETCH_DATA_REQUEST'
    });
    return fetchMockData(dispatch);
  };

  fetchData.interceptInOffline = true;

  function fetchSomethingWithoutInterception(dispatch) {
    return dispatch({
      type: 'TOGGLE_DROPDOWN'
    });
  }

  it('thunk does NOT match criteria', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchSomethingWithoutInterception);
    var actions = store.getActions();
    expect(actions).toEqual([{
      type: 'TOGGLE_DROPDOWN'
    }]);
  });
  it('thunk MATCHES criteria and we are OFFLINE', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchData);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(fetchData)]);
  });
  it('thunk enqueued, regex MATCHES criteria, back ONLINE -> thunk gets redispatched', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    fetchData.retry = true;
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: [fetchData]
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchData).then(function () {
      var actions = store.getActions();
      expect(actions).toEqual([actionCreators.removeActionFromQueue(fetchData), {
        type: 'FETCH_DATA_REQUEST'
      }, {
        type: 'FETCH_DATA_SUCCESS'
      }]);
    });
  });
});
describe('createNetworkMiddleware with dismissing actions functionality', function () {
  describe('Plain objects', function () {
    var getFetchActionWithDismiss = function getFetchActionWithDismiss(type) {
      var actionsToDismiss = [];

      for (var _i = 1; _i < arguments.length; _i++) {
        actionsToDismiss[_i - 1] = arguments[_i];
      }

      return {
        type: type,
        payload: {
          isFetching: true
        },
        meta: {
          retry: true,
          dismiss: actionsToDismiss
        }
      };
    };

    it('NO actions enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA');
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME actions enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA', 'NAVIGATE_BACK');
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([actionCreators.dismissActionsFromQueue('NAVIGATE_BACK'), {
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME actions enqueued with dismiss options, but no match', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA', 'NAVIGATE_BACK');
      var navigationAction = {
        type: 'NAVIGATE_TO_LOGIN'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_TO_LOGIN'
      }]);
    });
  });
  describe('thunks', function () {
    function fetchThunk(dispatch) {
      dispatch({
        type: 'FETCH_DATA_REQUEST'
      });
    }

    it('Thunks enqueued with NO dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      fetchThunk.meta = {
        retry: true,
        dismiss: []
      };
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [fetchThunk]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME thunks enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      fetchThunk.meta = {
        retry: true,
        dismiss: ['NAVIGATE_TO_LOGIN']
      };
      var navigationAction = {
        type: 'NAVIGATE_TO_LOGIN'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [fetchThunk]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([actionCreators.dismissActionsFromQueue('NAVIGATE_TO_LOGIN'), {
        type: 'NAVIGATE_TO_LOGIN'
      }]);
    });
  });
});
describe('createNetworkMiddleware with queueDeselector', function () {
  var mockDequeueSelector = jest.fn();
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    shouldDequeueSelector: mockDequeueSelector
  });
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('Proxies action to next middleware if deselector returns false', function () {
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('REFRESH_DATA')]);
  });
});
describe('createReleaseQueue', function () {
  var mockDispatch = jest.fn();
  var mockGetState = jest.fn();
  var mockDequeueSelector = jest.fn();
  var mockDelay = 50;
  beforeEach(function () {
    mockDequeueSelector.mockImplementation(function () {
      return true;
    });
    mockGetState.mockImplementation(function () {
      return {
        network: {
          isConnected: true,
          isQueuePaused: false
        }
      };
    });
  });
  afterEach(function () {
    mockDispatch.mockClear();
    mockGetState.mockClear();
  });
  it('empties the queue if we are online and queue is not halted', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(4);
            expect(mockDispatch).toHaveBeenNthCalledWith(1, actionCreators.removeActionFromQueue(foo));
            expect(mockDispatch).toHaveBeenNthCalledWith(2, foo);
            expect(mockDispatch).toHaveBeenNthCalledWith(3, actionCreators.removeActionFromQueue(bar));
            expect(mockDispatch).toHaveBeenNthCalledWith(4, bar);
            return [2];
        }
      });
    });
  });
  it('does not empty the queue if dequeue selector returns false', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, function () {
              return false;
            });
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(0);
            return [2];
        }
      });
    });
  });
  it('does not empty the queue if queue has been halted', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            mockGetState.mockImplementation(function () {
              return {
                network: {
                  isQueuePaused: true
                }
              };
            });
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(0);
            return [2];
        }
      });
    });
  });
  it('dispatches only during the online window', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var switchToOffline, releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            switchToOffline = function switchToOffline() {
              return new Promise(function (resolve) {
                return __awaiter(void 0, void 0, void 0, function () {
                  return __generator(this, function (_a) {
                    switch (_a.label) {
                      case 0:
                        return [4, (0, _wait.default)(30)];

                      case 1:
                        _a.sent();

                        mockGetState.mockImplementation(function () {
                          return {
                            network: {
                              isConnected: false
                            }
                          };
                        });
                        resolve();
                        return [2];
                    }
                  });
                });
              });
            };

            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, Promise.all([releaseQueue(actionQueue), switchToOffline()])];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(2);
            expect(mockDispatch).toHaveBeenNthCalledWith(1, actionCreators.removeActionFromQueue(foo));
            expect(mockDispatch).toHaveBeenNthCalledWith(2, foo);
            return [2];
        }
      });
    });
  });
});
describe('createNetworkMiddleware with wrong type params', function () {
  it('invalid regex', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var networkMiddleware = (0, _createNetworkMiddleware.default)({
      regexActionType: 'REFRESH'
    });
    var middlewares = [networkMiddleware];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    expect(function () {
      return store.dispatch(action);
    }).toThrow('You should pass a regex as regexActionType param');
  });
  it('invalid actionTypes', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var networkMiddleware = (0, _createNetworkMiddleware.default)({
      actionTypes: 'REFRESH'
    });
    var middlewares = [networkMiddleware];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    expect(function () {
      return store.dispatch(action);
    }).toThrow('You should pass an array as actionTypes param');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9EZXZBQy9EZXNrdG9wL0FuZ2F6YS9yZWFjdC1vZmZsaW5lLXN5bmMvc3JjL3Rlc3QvY3JlYXRlTmV0d29ya01pZGRsZXdhcmUudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBR0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQSxJQUFNLGNBQWMsR0FBRyxTQUFqQixjQUFpQixDQUFDLElBQUQsRUFBYTtBQUFLLFNBQUM7QUFDeEMsSUFBQSxJQUFJLEVBQUEsSUFEb0M7QUFFeEMsSUFBQSxPQUFPLEVBQUU7QUFDUCxNQUFBLFVBQVUsRUFBRTtBQURMO0FBRitCLEdBQUQ7QUFLdkMsQ0FMRjs7QUFPQSxRQUFRLENBQUMsb0RBQUQsRUFBdUQsWUFBQTtBQUM3RCxNQUFNLGlCQUFpQixHQUFHLHNDQUF3QjtBQUNoRCxJQUFBLFdBQVcsRUFBRSxDQUFDLGNBQUQ7QUFEbUMsR0FBeEIsQ0FBMUI7QUFHQSxNQUFNLFdBQVcsR0FBRyxDQUFDLGlCQUFELEVBQW9CLG1CQUFwQixDQUFwQjtBQUNBLE1BQU0sU0FBUyxHQUFHLDZCQUFlLFdBQWYsQ0FBbEI7QUFFQSxFQUFBLEVBQUUsQ0FBQyxnQ0FBRCxFQUFtQyxZQUFBO0FBQ25DLFFBQU0sWUFBWSxHQUFHO0FBQ25CLE1BQUEsT0FBTyxFQUFFO0FBQ1AsUUFBQSxXQUFXLEVBQUUsS0FETjtBQUVQLFFBQUEsV0FBVyxFQUFFO0FBRk47QUFEVSxLQUFyQjtBQU1BLFFBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxZQUFELENBQXZCO0FBRUEsSUFBQSxLQUFLLENBQUMsUUFBTixDQUFlO0FBQUUsTUFBQSxJQUFJLEVB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TUEsUUFBTSxpQkFBaUIsR0FBRyxzQ0FBd0I7QUFDaEQsTUFBQSxXQUFXLEVBQUU7QUFEbUMsS0FBeEIsQ0FBMUI7QUFJQSxRQUFNLFdBQVcsR0FBRyxDQUFDLGlCQUFELENBQXBCO0FBQ0EsUUFBTSxTQUFTLEdBQUcsNkJBQWUsV0FBZixDQUFsQjtBQUVBLFFBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxZQUFELENBQXZCO0FBQ0EsUUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLGNBQUQsQ0FBN0I7QUFFQSxJQUFBLE1BQU0sQ0FBQyxZQUFBO0FBQU0sYUFBQSxLQUFLLENBQUMsUUFBTixDQUFBLE1BQUEsQ0FBQTtBQUFzQixLQUE3QixDQUFOLENBQXFDLE9BQXJDLENBQ0UsK0NBREY7QUFHRCxHQXBCQyxDQUFGO0FBcUJELENBNUNPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlndXJlU3RvcmUgZnJvbSAncmVkdXgtbW9jay1zdG9yZSc7XG5pbXBvcnQgdGh1bmssIHsgVGh1bmtEaXNwYXRjaCB9IGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCB7IERpc3BhdGNoLCBBbnlBY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgY3JlYXRlTmV0d29ya01pZGRsZXdhcmUsIHtcbiAgY3JlYXRlUmVsZWFzZVF1ZXVlLFxufSBmcm9tICcuLi9zcmMvcmVkdXgvY3JlYXRlTmV0d29ya01pZGRsZXdhcmUnO1xuaW1wb3J0ICogYXMgYWN0aW9uQ3JlYXRvcnMgZnJvbSAnLi4vc3JjL3JlZHV4L2FjdGlvbkNyZWF0b3JzJztcbmltcG9ydCB3YWl0IGZyb20gJy4uL3NyYy91dGlscy93YWl0JztcbmltcG9ydCB7IFNFTUFQSE9SRV9DT0xPUiB9IGZyb20gJy4uL3NyYy91dGlscy9jb25zdGFudHMnO1xuXG50eXBlIFRodW5rID0gVGh1bmtEaXNwYXRjaDx7fSwgdW5kZWZpbmVkLCBBbnlBY3Rpb24+O1xuXG5jb25zdCBnZXRGZXRjaEFjdGlvbiA9ICh0eXBlOiBzdHJpbmcpID0+ICh7XG4gIHR5cGUsXG4gIHBheWxvYWQ6IHtcbiAgICBpc0ZldGNoaW5nOiB0cnVlLFxuICB9LFxufSk7XG5cbmRlc2NyaWJlKCdjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSB3aXRoIGFjdGlvblR5cGVzIGluIGNvbmZpZycsICgpID0+IHtcbiAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSh7XG4gICAgYWN0aW9uVHlwZXM6IFsnUkVGUkVTSF9EQVRBJ10sXG4gIH0pO1xuICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZSwgdGh1bmtdO1xuICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG5cbiAgaXQoJ2FjdGlvbiBET0VTIE5PVCBtYXRjaCBjcml0ZXJpYScsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdURVNUJyB9KTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW3sgdHlwZTogJ1RFU1QnIH1dKTtcbiAgfSk7XG5cbiAgaXQoJ2FjdGlvbiBNQVRDSEVTIGNyaXRlcmlhLCBzdGF0dXMgT05MSU5FJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdGRVRDSF9TT01FX0RBVEFfUkVRVUVTVCcpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFtnZXRGZXRjaEFjdGlvbignRkVUQ0hfU09NRV9EQVRBX1JFUVVFU1QnKV0pO1xuICB9KTtcblxuICBpdCgnYWN0aW9uIE1BVENIRVMgY3JpdGVyaWEgdGhyb3VnaCBSRUdFWCwgc3RhdHVzIE9GRkxJTkUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdGRVRDSF9TT01FX0RBVEFfUkVRVUVTVCcpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFthY3Rpb25DcmVhdG9ycy5mZXRjaE9mZmxpbmVNb2RlKGFjdGlvbildKTtcbiAgfSk7XG5cbiAgaXQoJ2FjdGlvbiBNQVRDSEVTIGNyaXRlcmlhIHRocm91Z2ggQVJSQVkgb2YgQUNUSU9OIFRZUEVTLCBzdGF0dXMgT0ZGTElORScsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0RmV0Y2hBY3Rpb24oJ1JFRlJFU0hfREFUQScpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFthY3Rpb25DcmVhdG9ycy5mZXRjaE9mZmxpbmVNb2RlKGFjdGlvbildKTtcbiAgfSk7XG5cbiAgaXQoJ2FjdGlvbiBFTlFVRVVFRCwgc3RhdHVzIGJhY2sgT05MSU5FJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbjEgPSBnZXRGZXRjaEFjdGlvbignRkVUQ0hfU09NRV9EQVRBX1JFUVVFU1QnKTtcbiAgICBjb25zdCBhY3Rpb24yID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1NPTUVUSElOR19FTFNFX1JFUVVFU1QnKTtcbiAgICBjb25zdCBhY3Rpb24zID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1VTRVJfUkVRVUVTVCcpO1xuICAgIGNvbnN0IHByZXZBY3Rpb25RdWV1ZSA9IFthY3Rpb24xLCBhY3Rpb24yLCBhY3Rpb24zXTtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IHByZXZBY3Rpb25RdWV1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbkNyZWF0b3JzLmNvbm5lY3Rpb25DaGFuZ2UodHJ1ZSkpO1xuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2FjdGlvbkNyZWF0b3JzLmNvbm5lY3Rpb25DaGFuZ2UodHJ1ZSldKTtcbiAgfSk7XG5cbiAgaXQoJ2FjdGlvbiBFTlFVRVVFRCwgcXVldWUgUEFVU0VELCBzdGF0dXMgcXVldWUgUkVTVU1FRCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBhY3Rpb24xID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1NPTUVfREFUQV9SRVFVRVNUJyk7XG4gICAgY29uc3QgYWN0aW9uMiA9IGdldEZldGNoQWN0aW9uKCdGRVRDSF9TT01FVEhJTkdfRUxTRV9SRVFVRVNUJyk7XG4gICAgY29uc3QgYWN0aW9uMyA9IGdldEZldGNoQWN0aW9uKCdGRVRDSF9VU0VSX1JFUVVFU1QnKTtcbiAgICBjb25zdCBwcmV2QWN0aW9uUXVldWUgPSBbYWN0aW9uMSwgYWN0aW9uMiwgYWN0aW9uM107XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaXNRdWV1ZVBhdXNlZDogdHJ1ZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IHByZXZBY3Rpb25RdWV1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbkNyZWF0b3JzLmNoYW5nZVF1ZXVlU2VtYXBob3JlKFNFTUFQSE9SRV9DT0xPUi5HUkVFTikpO1xuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW1xuICAgICAgYWN0aW9uQ3JlYXRvcnMuY2hhbmdlUXVldWVTZW1hcGhvcmUoU0VNQVBIT1JFX0NPTE9SLkdSRUVOKSxcbiAgICBdKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2NyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlIHdpdGggTk8gQ09ORklHJywgKCkgPT4ge1xuICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuXG4gIGl0KCdSRUZSRVNIX0FDVElPTiBkb2VzIG5vdCBtYXRjaCBpbiB0aGlzIGNhc2UgaW4gT0ZGTElORSBtb2RlJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignUkVGUkVTSF9EQVRBJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2dldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKV0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCBkaWZmZXJlbnQgUkVHRVggY29uZmlnJywgKCkgPT4ge1xuICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKHtcbiAgICByZWdleEFjdGlvblR5cGU6IC9SRUZSRVNILyxcbiAgfSk7XG4gIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuXG4gIGl0KCdSRUZSRVNIX0FDVElPTiBNQVRDSEVTIHRocm91Z2ggUkVHRVggaW4gT0ZGTElORSBtb2RlJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignUkVGUkVTSF9EQVRBJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2FjdGlvbkNyZWF0b3JzLmZldGNoT2ZmbGluZU1vZGUoYWN0aW9uKV0pO1xuICB9KTtcblxuICBpdCgnRkVUQ0hfQUNUSU9OIHR5cGUgbm8gbG9uZ2VyIG1hdGNoZXMgZGVmYXVsdCBSRUdFWCcsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX0RBVEEnKTtcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX0RBVEEnKV0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCB0aHVua3MnLCAoKSA9PiB7XG4gIC8vIEhlbHBlciB0byBzaW11bGF0ZSBhIG5ldHdvcmsgcmVxdWVzdFxuICBjb25zdCBmZXRjaE1vY2tEYXRhID0gKGRpc3BhdGNoOiBEaXNwYXRjaCkgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdGRVRDSF9EQVRBX1NVQ0NFU1MnIH0pO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcblxuICBjb25zdCBmZXRjaERhdGEgPSAoZGlzcGF0Y2g6IERpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnRkVUQ0hfREFUQV9SRVFVRVNUJyB9KTtcbiAgICByZXR1cm4gZmV0Y2hNb2NrRGF0YShkaXNwYXRjaCk7XG4gIH07XG5cbiAgZmV0Y2hEYXRhLmludGVyY2VwdEluT2ZmbGluZSA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZmV0Y2hTb21ldGhpbmdXaXRob3V0SW50ZXJjZXB0aW9uKGRpc3BhdGNoOiBEaXNwYXRjaCkge1xuICAgIHJldHVybiBkaXNwYXRjaCh7IHR5cGU6ICdUT0dHTEVfRFJPUERPV04nIH0pO1xuICB9XG5cbiAgaXQoJ3RodW5rIGRvZXMgTk9UIG1hdGNoIGNyaXRlcmlhJywgKCkgPT4ge1xuICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoKTtcbiAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZSwgdGh1bmtdO1xuICAgIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlPHt9LCBUaHVuaz4obWlkZGxld2FyZXMpO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGZldGNoU29tZXRoaW5nV2l0aG91dEludGVyY2VwdGlvbik7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIC8vIFRoZSBhY3Rpb24gd2VudCB0aHJvdWdoIGFuZCB3YXMgZGlzcGF0Y2hlZFxuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFt7IHR5cGU6ICdUT0dHTEVfRFJPUERPV04nIH1dKTtcbiAgfSk7XG5cbiAgaXQoJ3RodW5rIE1BVENIRVMgY3JpdGVyaWEgYW5kIHdlIGFyZSBPRkZMSU5FJywgKCkgPT4ge1xuICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoKTtcbiAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZSwgdGh1bmtdO1xuICAgIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlPHt9LCBUaHVuaz4obWlkZGxld2FyZXMpO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGZldGNoRGF0YSk7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFthY3Rpb25DcmVhdG9ycy5mZXRjaE9mZmxpbmVNb2RlKGZldGNoRGF0YSldKTtcbiAgfSk7XG5cbiAgaXQoJ3RodW5rIGVucXVldWVkLCByZWdleCBNQVRDSEVTIGNyaXRlcmlhLCBiYWNrIE9OTElORSAtPiB0aHVuayBnZXRzIHJlZGlzcGF0Y2hlZCcsICgpID0+IHtcbiAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmUsIHRodW5rXTtcbiAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZTx7fSwgVGh1bms+KG1pZGRsZXdhcmVzKTtcbiAgICAoZmV0Y2hEYXRhIGFzIGFueSkucmV0cnkgPSB0cnVlO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbZmV0Y2hEYXRhXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goZmV0Y2hEYXRhKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbXG4gICAgICAgIGFjdGlvbkNyZWF0b3JzLnJlbW92ZUFjdGlvbkZyb21RdWV1ZShmZXRjaERhdGEpLFxuICAgICAgICB7IHR5cGU6ICdGRVRDSF9EQVRBX1JFUVVFU1QnIH0sXG4gICAgICAgIHsgdHlwZTogJ0ZFVENIX0RBVEFfU1VDQ0VTUycgfSxcbiAgICAgIF0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCBkaXNtaXNzaW5nIGFjdGlvbnMgZnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgZGVzY3JpYmUoJ1BsYWluIG9iamVjdHMnLCAoKSA9PiB7XG4gICAgY29uc3QgZ2V0RmV0Y2hBY3Rpb25XaXRoRGlzbWlzcyA9IChcbiAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgIC4uLmFjdGlvbnNUb0Rpc21pc3M6IHN0cmluZ1tdXG4gICAgKSA9PiAoe1xuICAgICAgdHlwZSxcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgaXNGZXRjaGluZzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHJldHJ5OiB0cnVlLFxuICAgICAgICBkaXNtaXNzOiBhY3Rpb25zVG9EaXNtaXNzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGl0KCdOTyBhY3Rpb25zIGVucXVldWVkIHdpdGggZGlzbWlzcyBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuICAgICAgY29uc3QgYWN0aW9uRW5xdWV1ZWQgPSBnZXRGZXRjaEFjdGlvbldpdGhEaXNtaXNzKCdGRVRDSF9EQVRBJyk7XG4gICAgICBjb25zdCBuYXZpZ2F0aW9uQWN0aW9uID0geyB0eXBlOiAnTkFWSUdBVEVfQkFDSycgfTtcbiAgICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBhY3Rpb25RdWV1ZTogW2FjdGlvbkVucXVldWVkXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gobmF2aWdhdGlvbkFjdGlvbik7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnNEaXNwYXRjaGVkID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgICAgZXhwZWN0KGFjdGlvbnNEaXNwYXRjaGVkKS50b0VxdWFsKFt7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9XSk7XG4gICAgfSk7XG5cbiAgICBpdCgnU09NRSBhY3Rpb25zIGVucXVldWVkIHdpdGggZGlzbWlzcyBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuICAgICAgY29uc3QgYWN0aW9uRW5xdWV1ZWQgPSBnZXRGZXRjaEFjdGlvbldpdGhEaXNtaXNzKFxuICAgICAgICAnRkVUQ0hfREFUQScsXG4gICAgICAgICdOQVZJR0FURV9CQUNLJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBuYXZpZ2F0aW9uQWN0aW9uID0geyB0eXBlOiAnTkFWSUdBVEVfQkFDSycgfTtcbiAgICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBhY3Rpb25RdWV1ZTogW2FjdGlvbkVucXVldWVkXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gobmF2aWdhdGlvbkFjdGlvbik7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnNEaXNwYXRjaGVkID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgICAgZXhwZWN0KGFjdGlvbnNEaXNwYXRjaGVkKS50b0VxdWFsKFtcbiAgICAgICAgYWN0aW9uQ3JlYXRvcnMuZGlzbWlzc0FjdGlvbnNGcm9tUXVldWUoJ05BVklHQVRFX0JBQ0snKSxcbiAgICAgICAgeyB0eXBlOiAnTkFWSUdBVEVfQkFDSycgfSxcbiAgICAgIF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ1NPTUUgYWN0aW9ucyBlbnF1ZXVlZCB3aXRoIGRpc21pc3Mgb3B0aW9ucywgYnV0IG5vIG1hdGNoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuICAgICAgY29uc3QgYWN0aW9uRW5xdWV1ZWQgPSBnZXRGZXRjaEFjdGlvbldpdGhEaXNtaXNzKFxuICAgICAgICAnRkVUQ0hfREFUQScsXG4gICAgICAgICdOQVZJR0FURV9CQUNLJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBuYXZpZ2F0aW9uQWN0aW9uID0geyB0eXBlOiAnTkFWSUdBVEVfVE9fTE9HSU4nIH07XG4gICAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgICAgYWN0aW9uUXVldWU6IFthY3Rpb25FbnF1ZXVlZF0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKG5hdmlnYXRpb25BY3Rpb24pO1xuXG4gICAgICBjb25zdCBhY3Rpb25zRGlzcGF0Y2hlZCA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICAgIGV4cGVjdChhY3Rpb25zRGlzcGF0Y2hlZCkudG9FcXVhbChbeyB0eXBlOiAnTkFWSUdBVEVfVE9fTE9HSU4nIH1dKTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCd0aHVua3MnLCAoKSA9PiB7XG4gICAgZnVuY3Rpb24gZmV0Y2hUaHVuayhkaXNwYXRjaDogRGlzcGF0Y2gpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0ZFVENIX0RBVEFfUkVRVUVTVCcgfSk7XG4gICAgfVxuXG4gICAgaXQoJ1RodW5rcyBlbnF1ZXVlZCB3aXRoIE5PIGRpc21pc3Mgb3B0aW9ucycsICgpID0+IHtcbiAgICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoKTtcbiAgICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgICAgIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKG1pZGRsZXdhcmVzKTtcbiAgICAgIChmZXRjaFRodW5rIGFzIGFueSkubWV0YSA9IHtcbiAgICAgICAgcmV0cnk6IHRydWUsXG4gICAgICAgIGRpc21pc3M6IFtdLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSB7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9O1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGFjdGlvblF1ZXVlOiBbZmV0Y2hUaHVua10sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKG5hdmlnYXRpb25BY3Rpb24pO1xuXG4gICAgICBjb25zdCBhY3Rpb25zRGlzcGF0Y2hlZCA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICAgIGV4cGVjdChhY3Rpb25zRGlzcGF0Y2hlZCkudG9FcXVhbChbeyB0eXBlOiAnTkFWSUdBVEVfQkFDSycgfV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ1NPTUUgdGh1bmtzIGVucXVldWVkIHdpdGggZGlzbWlzcyBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuICAgICAgKGZldGNoVGh1bmsgYXMgYW55KS5tZXRhID0ge1xuICAgICAgICByZXRyeTogdHJ1ZSxcbiAgICAgICAgZGlzbWlzczogWydOQVZJR0FURV9UT19MT0dJTiddLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSB7IHR5cGU6ICdOQVZJR0FURV9UT19MT0dJTicgfTtcbiAgICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBhY3Rpb25RdWV1ZTogW2ZldGNoVGh1bmtdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChuYXZpZ2F0aW9uQWN0aW9uKTtcblxuICAgICAgY29uc3QgYWN0aW9uc0Rpc3BhdGNoZWQgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgICBleHBlY3QoYWN0aW9uc0Rpc3BhdGNoZWQpLnRvRXF1YWwoW1xuICAgICAgICBhY3Rpb25DcmVhdG9ycy5kaXNtaXNzQWN0aW9uc0Zyb21RdWV1ZSgnTkFWSUdBVEVfVE9fTE9HSU4nKSxcbiAgICAgICAgeyB0eXBlOiAnTkFWSUdBVEVfVE9fTE9HSU4nIH0sXG4gICAgICBdKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2NyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlIHdpdGggcXVldWVEZXNlbGVjdG9yJywgKCkgPT4ge1xuICBjb25zdCBtb2NrRGVxdWV1ZVNlbGVjdG9yID0gamVzdC5mbigpO1xuICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKHtcbiAgICBzaG91bGREZXF1ZXVlU2VsZWN0b3I6IG1vY2tEZXF1ZXVlU2VsZWN0b3IsXG4gIH0pO1xuICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKG1pZGRsZXdhcmVzKTtcblxuICBpdCgnUHJveGllcyBhY3Rpb24gdG8gbmV4dCBtaWRkbGV3YXJlIGlmIGRlc2VsZWN0b3IgcmV0dXJucyBmYWxzZScsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignUkVGUkVTSF9EQVRBJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2dldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKV0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlUmVsZWFzZVF1ZXVlJywgKCkgPT4ge1xuICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tHZXRTdGF0ZSA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja0RlcXVldWVTZWxlY3RvciA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja0RlbGF5ID0gNTA7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja0RlcXVldWVTZWxlY3Rvci5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gdHJ1ZSk7XG4gICAgbW9ja0dldFN0YXRlLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaXNRdWV1ZVBhdXNlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBtb2NrRGlzcGF0Y2gubW9ja0NsZWFyKCk7XG4gICAgbW9ja0dldFN0YXRlLm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBpdCgnZW1wdGllcyB0aGUgcXVldWUgaWYgd2UgYXJlIG9ubGluZSBhbmQgcXVldWUgaXMgbm90IGhhbHRlZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWxlYXNlUXVldWUgPSBjcmVhdGVSZWxlYXNlUXVldWUoXG4gICAgICBtb2NrR2V0U3RhdGUsXG4gICAgICBtb2NrRGlzcGF0Y2gsXG4gICAgICBtb2NrRGVsYXksXG4gICAgICBtb2NrRGVxdWV1ZVNlbGVjdG9yLFxuICAgICk7XG4gICAgY29uc3QgZm9vID0geyB0eXBlOiAnZm9vJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBiYXIgPSB7IHR5cGU6ICdiYXInLCBwYXlsb2FkOiB7fSB9O1xuICAgIGNvbnN0IGFjdGlvblF1ZXVlID0gW2ZvbywgYmFyXTtcbiAgICBhd2FpdCByZWxlYXNlUXVldWUoYWN0aW9uUXVldWUpO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcyg0KTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuTnRoQ2FsbGVkV2l0aChcbiAgICAgIDEsXG4gICAgICBhY3Rpb25DcmVhdG9ycy5yZW1vdmVBY3Rpb25Gcm9tUXVldWUoZm9vKSxcbiAgICApO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5OdGhDYWxsZWRXaXRoKDIsIGZvbyk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbk50aENhbGxlZFdpdGgoXG4gICAgICAzLFxuICAgICAgYWN0aW9uQ3JlYXRvcnMucmVtb3ZlQWN0aW9uRnJvbVF1ZXVlKGJhciksXG4gICAgKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuTnRoQ2FsbGVkV2l0aCg0LCBiYXIpO1xuICB9KTtcblxuICBpdCgnZG9lcyBub3QgZW1wdHkgdGhlIHF1ZXVlIGlmIGRlcXVldWUgc2VsZWN0b3IgcmV0dXJucyBmYWxzZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWxlYXNlUXVldWUgPSBjcmVhdGVSZWxlYXNlUXVldWUoXG4gICAgICBtb2NrR2V0U3RhdGUsXG4gICAgICBtb2NrRGlzcGF0Y2gsXG4gICAgICBtb2NrRGVsYXksXG4gICAgICAoKSA9PiBmYWxzZSxcbiAgICApO1xuICAgIGNvbnN0IGZvbyA9IHsgdHlwZTogJ2ZvbycsIHBheWxvYWQ6IHt9IH07XG4gICAgY29uc3QgYmFyID0geyB0eXBlOiAnYmFyJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBhY3Rpb25RdWV1ZSA9IFtmb28sIGJhcl07XG4gICAgYXdhaXQgcmVsZWFzZVF1ZXVlKGFjdGlvblF1ZXVlKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMCk7XG4gIH0pO1xuXG4gIGl0KCdkb2VzIG5vdCBlbXB0eSB0aGUgcXVldWUgaWYgcXVldWUgaGFzIGJlZW4gaGFsdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tHZXRTdGF0ZS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNRdWV1ZVBhdXNlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSkpO1xuICAgIGNvbnN0IHJlbGVhc2VRdWV1ZSA9IGNyZWF0ZVJlbGVhc2VRdWV1ZShcbiAgICAgIG1vY2tHZXRTdGF0ZSxcbiAgICAgIG1vY2tEaXNwYXRjaCxcbiAgICAgIG1vY2tEZWxheSxcbiAgICAgIG1vY2tEZXF1ZXVlU2VsZWN0b3IsXG4gICAgKTtcbiAgICBjb25zdCBmb28gPSB7IHR5cGU6ICdmb28nLCBwYXlsb2FkOiB7fSB9O1xuICAgIGNvbnN0IGJhciA9IHsgdHlwZTogJ2JhcicsIHBheWxvYWQ6IHt9IH07XG4gICAgY29uc3QgYWN0aW9uUXVldWUgPSBbZm9vLCBiYXJdO1xuICAgIGF3YWl0IHJlbGVhc2VRdWV1ZShhY3Rpb25RdWV1ZSk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDApO1xuICB9KTtcblxuICBpdCgnZGlzcGF0Y2hlcyBvbmx5IGR1cmluZyB0aGUgb25saW5lIHdpbmRvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzd2l0Y2hUb09mZmxpbmUgPSAoKSA9PlxuICAgICAgbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgIGF3YWl0IHdhaXQoMzApO1xuICAgICAgICBtb2NrR2V0U3RhdGUubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgY29uc3QgcmVsZWFzZVF1ZXVlID0gY3JlYXRlUmVsZWFzZVF1ZXVlKFxuICAgICAgbW9ja0dldFN0YXRlLFxuICAgICAgbW9ja0Rpc3BhdGNoLFxuICAgICAgbW9ja0RlbGF5LFxuICAgICAgbW9ja0RlcXVldWVTZWxlY3RvcixcbiAgICApO1xuICAgIGNvbnN0IGZvbyA9IHsgdHlwZTogJ2ZvbycsIHBheWxvYWQ6IHt9IH07XG4gICAgY29uc3QgYmFyID0geyB0eXBlOiAnYmFyJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBhY3Rpb25RdWV1ZSA9IFtmb28sIGJhcl07XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW3JlbGVhc2VRdWV1ZShhY3Rpb25RdWV1ZSksIHN3aXRjaFRvT2ZmbGluZSgpXSk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5OdGhDYWxsZWRXaXRoKFxuICAgICAgMSxcbiAgICAgIGFjdGlvbkNyZWF0b3JzLnJlbW92ZUFjdGlvbkZyb21RdWV1ZShmb28pLFxuICAgICk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbk50aENhbGxlZFdpdGgoMiwgZm9vKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2NyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlIHdpdGggd3JvbmcgdHlwZSBwYXJhbXMnLCAoKSA9PiB7XG4gIGl0KCdpbnZhbGlkIHJlZ2V4JywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgLy8gdHlwZWNhc3RpbmcgYXMgYW55IGJlY2F1c2Ugb3RoZXJ3aXNlIFRTIHdvbid0IGxldCB5b3Ugc2VuZCBhIHN0cmluZ1xuICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoe1xuICAgICAgcmVnZXhBY3Rpb25UeXBlOiAnUkVGUkVTSCcgYXMgYW55LFxuICAgIH0pO1xuICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG5cbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKTtcblxuICAgIGV4cGVjdCgoKSA9PiBzdG9yZS5kaXNwYXRjaChhY3Rpb24pKS50b1Rocm93KFxuICAgICAgJ1lvdSBzaG91bGQgcGFzcyBhIHJlZ2V4IGFzIHJlZ2V4QWN0aW9uVHlwZSBwYXJhbScsXG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ2ludmFsaWQgYWN0aW9uVHlwZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKHtcbiAgICAgIGFjdGlvblR5cGVzOiAnUkVGUkVTSCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuXG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignUkVGUkVTSF9EQVRBJyk7XG5cbiAgICBleHBlY3QoKCkgPT4gc3RvcmUuZGlzcGF0Y2goYWN0aW9uKSkudG9UaHJvdyhcbiAgICAgICdZb3Ugc2hvdWxkIHBhc3MgYW4gYXJyYXkgYXMgYWN0aW9uVHlwZXMgcGFyYW0nLFxuICAgICk7XG4gIH0pO1xufSk7XG4iXX0=