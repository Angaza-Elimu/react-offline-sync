3b86d4f2470adac0bfd7d34234cc5951
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _reduxMockStore = _interopRequireDefault(require("redux-mock-store"));

var _reduxThunk = _interopRequireDefault(require("redux-thunk"));

var _createNetworkMiddleware = _interopRequireWildcard(require("../redux/createNetworkMiddleware"));

var actionCreators = _interopRequireWildcard(require("../redux/actionCreators"));

var _wait = _interopRequireDefault(require("../utils/wait"));

var _constants = require("../utils/constants");

var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }

  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

var __generator = this && this.__generator || function (thisArg, body) {
  var _ = {
    label: 0,
    sent: function sent() {
      if (t[0] & 1) throw t[1];
      return t[1];
    },
    trys: [],
    ops: []
  },
      f,
      y,
      t,
      g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"] = function () {
    return this;
  }), g;

  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }

  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");

    while (_) {
      try {
        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
        if (y = 0, t) op = [op[0] & 2, t.value];

        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;

          case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;

          case 7:
            op = _.ops.pop();

            _.trys.pop();

            continue;

          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }

            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }

            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }

            if (t && _.label < t[2]) {
              _.label = t[2];

              _.ops.push(op);

              break;
            }

            if (t[2]) _.ops.pop();

            _.trys.pop();

            continue;
        }

        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    }

    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};

var getFetchAction = function getFetchAction(type) {
  return {
    type: type,
    payload: {
      isFetching: true
    }
  };
};

describe('createNetworkMiddleware with actionTypes in config', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    actionTypes: ['REFRESH_DATA']
  });
  var middlewares = [networkMiddleware, _reduxThunk.default];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('action DOES NOT match criteria', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch({
      type: 'TEST'
    });
    var actions = store.getActions();
    expect(actions).toEqual([{
      type: 'TEST'
    }]);
  });
  it('action MATCHES criteria, status ONLINE', function () {
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_SOME_DATA_REQUEST');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('FETCH_SOME_DATA_REQUEST')]);
  });
  it('action MATCHES criteria through REGEX, status OFFLINE', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_SOME_DATA_REQUEST');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('action MATCHES criteria through ARRAY of ACTION TYPES, status OFFLINE', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('action ENQUEUED, status back ONLINE', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var action1, action2, action3, prevActionQueue, initialState, store, actions;
      return __generator(this, function (_a) {
        action1 = getFetchAction('FETCH_SOME_DATA_REQUEST');
        action2 = getFetchAction('FETCH_SOMETHING_ELSE_REQUEST');
        action3 = getFetchAction('FETCH_USER_REQUEST');
        prevActionQueue = [action1, action2, action3];
        initialState = {
          network: {
            isConnected: false,
            actionQueue: prevActionQueue
          }
        };
        store = mockStore(initialState);
        store.dispatch(actionCreators.connectionChange(true));
        actions = store.getActions();
        expect(actions).toEqual([actionCreators.connectionChange(true)]);
        return [2];
      });
    });
  });
  it('action ENQUEUED, queue PAUSED, status queue RESUMED', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var action1, action2, action3, prevActionQueue, initialState, store, actions;
      return __generator(this, function (_a) {
        action1 = getFetchAction('FETCH_SOME_DATA_REQUEST');
        action2 = getFetchAction('FETCH_SOMETHING_ELSE_REQUEST');
        action3 = getFetchAction('FETCH_USER_REQUEST');
        prevActionQueue = [action1, action2, action3];
        initialState = {
          network: {
            isConnected: true,
            isQueuePaused: true,
            actionQueue: prevActionQueue
          }
        };
        store = mockStore(initialState);
        store.dispatch(actionCreators.changeQueueSemaphore(_constants.SEMAPHORE_COLOR.GREEN));
        actions = store.getActions();
        expect(actions).toEqual([actionCreators.changeQueueSemaphore(_constants.SEMAPHORE_COLOR.GREEN)]);
        return [2];
      });
    });
  });
});
describe('createNetworkMiddleware with NO CONFIG', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)();
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('REFRESH_ACTION does not match in this case in OFFLINE mode', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('REFRESH_DATA')]);
  });
});
describe('createNetworkMiddleware with different REGEX config', function () {
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    regexActionType: /REFRESH/
  });
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('REFRESH_ACTION MATCHES through REGEX in OFFLINE mode', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(action)]);
  });
  it('FETCH_ACTION type no longer matches default REGEX', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('FETCH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('FETCH_DATA')]);
  });
});
describe('createNetworkMiddleware with thunks', function () {
  var fetchMockData = function fetchMockData(dispatch) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        dispatch({
          type: 'FETCH_DATA_SUCCESS'
        });
        resolve();
      }, 1000);
    });
  };

  var fetchData = function fetchData(dispatch) {
    dispatch({
      type: 'FETCH_DATA_REQUEST'
    });
    return fetchMockData(dispatch);
  };

  fetchData.interceptInOffline = true;

  function fetchSomethingWithoutInterception(dispatch) {
    return dispatch({
      type: 'TOGGLE_DROPDOWN'
    });
  }

  it('thunk does NOT match criteria', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchSomethingWithoutInterception);
    var actions = store.getActions();
    expect(actions).toEqual([{
      type: 'TOGGLE_DROPDOWN'
    }]);
  });
  it('thunk MATCHES criteria and we are OFFLINE', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchData);
    var actions = store.getActions();
    expect(actions).toEqual([actionCreators.fetchOfflineMode(fetchData)]);
  });
  it('thunk enqueued, regex MATCHES criteria, back ONLINE -> thunk gets redispatched', function () {
    var networkMiddleware = (0, _createNetworkMiddleware.default)();
    var middlewares = [networkMiddleware, _reduxThunk.default];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    fetchData.retry = true;
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: [fetchData]
      }
    };
    var store = mockStore(initialState);
    store.dispatch(fetchData).then(function () {
      var actions = store.getActions();
      expect(actions).toEqual([actionCreators.removeActionFromQueue(fetchData), {
        type: 'FETCH_DATA_REQUEST'
      }, {
        type: 'FETCH_DATA_SUCCESS'
      }]);
    });
  });
});
describe('createNetworkMiddleware with dismissing actions functionality', function () {
  describe('Plain objects', function () {
    var getFetchActionWithDismiss = function getFetchActionWithDismiss(type) {
      var actionsToDismiss = [];

      for (var _i = 1; _i < arguments.length; _i++) {
        actionsToDismiss[_i - 1] = arguments[_i];
      }

      return {
        type: type,
        payload: {
          isFetching: true
        },
        meta: {
          retry: true,
          dismiss: actionsToDismiss
        }
      };
    };

    it('NO actions enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA');
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME actions enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA', 'NAVIGATE_BACK');
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([actionCreators.dismissActionsFromQueue('NAVIGATE_BACK'), {
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME actions enqueued with dismiss options, but no match', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      var actionEnqueued = getFetchActionWithDismiss('FETCH_DATA', 'NAVIGATE_BACK');
      var navigationAction = {
        type: 'NAVIGATE_TO_LOGIN'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [actionEnqueued]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_TO_LOGIN'
      }]);
    });
  });
  describe('thunks', function () {
    function fetchThunk(dispatch) {
      dispatch({
        type: 'FETCH_DATA_REQUEST'
      });
    }

    it('Thunks enqueued with NO dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      fetchThunk.meta = {
        retry: true,
        dismiss: []
      };
      var navigationAction = {
        type: 'NAVIGATE_BACK'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [fetchThunk]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([{
        type: 'NAVIGATE_BACK'
      }]);
    });
    it('SOME thunks enqueued with dismiss options', function () {
      var networkMiddleware = (0, _createNetworkMiddleware.default)();
      var middlewares = [networkMiddleware];
      var mockStore = (0, _reduxMockStore.default)(middlewares);
      fetchThunk.meta = {
        retry: true,
        dismiss: ['NAVIGATE_TO_LOGIN']
      };
      var navigationAction = {
        type: 'NAVIGATE_TO_LOGIN'
      };
      var initialState = {
        network: {
          isConnected: false,
          actionQueue: [fetchThunk]
        }
      };
      var store = mockStore(initialState);
      store.dispatch(navigationAction);
      var actionsDispatched = store.getActions();
      expect(actionsDispatched).toEqual([actionCreators.dismissActionsFromQueue('NAVIGATE_TO_LOGIN'), {
        type: 'NAVIGATE_TO_LOGIN'
      }]);
    });
  });
});
describe('createNetworkMiddleware with queueDeselector', function () {
  var mockDequeueSelector = jest.fn();
  var networkMiddleware = (0, _createNetworkMiddleware.default)({
    shouldDequeueSelector: mockDequeueSelector
  });
  var middlewares = [networkMiddleware];
  var mockStore = (0, _reduxMockStore.default)(middlewares);
  it('Proxies action to next middleware if deselector returns false', function () {
    var initialState = {
      network: {
        isConnected: true,
        actionQueue: []
      }
    };
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    store.dispatch(action);
    var actions = store.getActions();
    expect(actions).toEqual([getFetchAction('REFRESH_DATA')]);
  });
});
describe('createReleaseQueue', function () {
  var mockDispatch = jest.fn();
  var mockGetState = jest.fn();
  var mockDequeueSelector = jest.fn();
  var mockDelay = 50;
  beforeEach(function () {
    mockDequeueSelector.mockImplementation(function () {
      return true;
    });
    mockGetState.mockImplementation(function () {
      return {
        network: {
          isConnected: true,
          isQueuePaused: false
        }
      };
    });
  });
  afterEach(function () {
    mockDispatch.mockClear();
    mockGetState.mockClear();
  });
  it('empties the queue if we are online and queue is not halted', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(4);
            expect(mockDispatch).toHaveBeenNthCalledWith(1, actionCreators.removeActionFromQueue(foo));
            expect(mockDispatch).toHaveBeenNthCalledWith(2, foo);
            expect(mockDispatch).toHaveBeenNthCalledWith(3, actionCreators.removeActionFromQueue(bar));
            expect(mockDispatch).toHaveBeenNthCalledWith(4, bar);
            return [2];
        }
      });
    });
  });
  it('does not empty the queue if dequeue selector returns false', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, function () {
              return false;
            });
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(0);
            return [2];
        }
      });
    });
  });
  it('does not empty the queue if queue has been halted', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            mockGetState.mockImplementation(function () {
              return {
                network: {
                  isQueuePaused: true
                }
              };
            });
            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, releaseQueue(actionQueue)];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(0);
            return [2];
        }
      });
    });
  });
  it('dispatches only during the online window', function () {
    return __awaiter(void 0, void 0, void 0, function () {
      var switchToOffline, releaseQueue, foo, bar, actionQueue;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            switchToOffline = function switchToOffline() {
              return new Promise(function (resolve) {
                return __awaiter(void 0, void 0, void 0, function () {
                  return __generator(this, function (_a) {
                    switch (_a.label) {
                      case 0:
                        return [4, (0, _wait.default)(30)];

                      case 1:
                        _a.sent();

                        mockGetState.mockImplementation(function () {
                          return {
                            network: {
                              isConnected: false
                            }
                          };
                        });
                        resolve();
                        return [2];
                    }
                  });
                });
              });
            };

            releaseQueue = (0, _createNetworkMiddleware.createReleaseQueue)(mockGetState, mockDispatch, mockDelay, mockDequeueSelector);
            foo = {
              type: 'foo',
              payload: {}
            };
            bar = {
              type: 'bar',
              payload: {}
            };
            actionQueue = [foo, bar];
            return [4, Promise.all([releaseQueue(actionQueue), switchToOffline()])];

          case 1:
            _a.sent();

            expect(mockDispatch).toHaveBeenCalledTimes(2);
            expect(mockDispatch).toHaveBeenNthCalledWith(1, actionCreators.removeActionFromQueue(foo));
            expect(mockDispatch).toHaveBeenNthCalledWith(2, foo);
            return [2];
        }
      });
    });
  });
});
describe('createNetworkMiddleware with wrong type params', function () {
  it('invalid regex', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var networkMiddleware = (0, _createNetworkMiddleware.default)({
      regexActionType: 'REFRESH'
    });
    var middlewares = [networkMiddleware];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    expect(function () {
      return store.dispatch(action);
    }).toThrow('You should pass a regex as regexActionType param');
  });
  it('invalid actionTypes', function () {
    var initialState = {
      network: {
        isConnected: false,
        actionQueue: []
      }
    };
    var networkMiddleware = (0, _createNetworkMiddleware.default)({
      actionTypes: 'REFRESH'
    });
    var middlewares = [networkMiddleware];
    var mockStore = (0, _reduxMockStore.default)(middlewares);
    var store = mockStore(initialState);
    var action = getFetchAction('REFRESH_DATA');
    expect(function () {
      return store.dispatch(action);
    }).toThrow('You should pass an array as actionTypes param');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9EZXZBQy9EZXNrdG9wL0FuZ2F6YS9yZWFjdC1vZmZsaW5lLXN5bmMvc3JjL3Rlc3QvY3JlYXRlTmV0d29ya01pZGRsZXdhcmUudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBR0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQSxJQUFNLGNBQWMsR0FBRyxTQUFqQixjQUFpQixDQUFDLElBQUQsRUFBYTtBQUFLLFNBQUM7QUFDeEMsSUFBQSxJQUFJLEVBQUEsSUFEb0M7QUFFeEMsSUFBQSxPQUFPLEVBQUU7QUFDUCxNQUFBLFVBQVUsRUFBRTtBQURMO0FBRitCLEdBQUQ7QUFLdkMsQ0FMRjs7QUFPQSxRQUFRLENBQUMsb0RBQUQsRUFBdUQsWUFBQTtBQUM3RCxNQUFNLGlCQUFpQixHQUFHLHNDQUF3QjtBQUNoRCxJQUFBLFdBQVcsRUFBRSxDQUFDLGNBQUQ7QUFEbUMsR0FBeEIsQ0FBMUI7QUFHQSxNQUFNLFdBQVcsR0FBRyxDQUFDLGlCQUFELEVBQW9CLG1CQUFwQixDQUFwQjtBQUNBLE1BQU0sU0FBUyxHQUFHLDZCQUFlLFdBQWYsQ0FBbEI7QUFFQSxFQUFBLEVBQUUsQ0FBQyxnQ0FBRCxFQUFtQyxZQUFBO0FBQ25DLFFBQU0sWUFBWSxHQUFHO0FBQ25CLE1BQUEsT0FBTyxFQUFFO0FBQ1AsUUFBQSxXQUFXLEVBQUUsS0FETjtBQUVQLFFBQUEsV0FBVyxFQUFFO0FBRk47QUFEVSxLQUFyQjtBQU1BLFFBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxZQUFELENBQXZCO0FBRUEsSUFBQSxLQUFLLENBQUMsUUFBTixDQUFlO0FBQUUsTUFBQSxJQUFJLEVB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TUEsUUFBTSxpQkFBaUIsR0FBRyxzQ0FBd0I7QUFDaEQsTUFBQSxXQUFXLEVBQUU7QUFEbUMsS0FBeEIsQ0FBMUI7QUFJQSxRQUFNLFdBQVcsR0FBRyxDQUFDLGlCQUFELENBQXBCO0FBQ0EsUUFBTSxTQUFTLEdBQUcsNkJBQWUsV0FBZixDQUFsQjtBQUVBLFFBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxZQUFELENBQXZCO0FBQ0EsUUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLGNBQUQsQ0FBN0I7QUFFQSxJQUFBLE1BQU0sQ0FBQyxZQUFBO0FBQU0sYUFBQSxLQUFLLENBQUMsUUFBTixDQUFBLE1BQUEsQ0FBQTtBQUFzQixLQUE3QixDQUFOLENBQXFDLE9BQXJDLENBQ0UsK0NBREY7QUFHRCxHQXBCQyxDQUFGO0FBcUJELENBNUNPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlndXJlU3RvcmUgZnJvbSAncmVkdXgtbW9jay1zdG9yZSc7XG5pbXBvcnQgdGh1bmssIHsgVGh1bmtEaXNwYXRjaCB9IGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCB7IERpc3BhdGNoLCBBbnlBY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgY3JlYXRlTmV0d29ya01pZGRsZXdhcmUsIHtcbiAgY3JlYXRlUmVsZWFzZVF1ZXVlLFxufSBmcm9tICcuLi9yZWR1eC9jcmVhdGVOZXR3b3JrTWlkZGxld2FyZSc7XG5pbXBvcnQgKiBhcyBhY3Rpb25DcmVhdG9ycyBmcm9tICcuLi9yZWR1eC9hY3Rpb25DcmVhdG9ycyc7XG5pbXBvcnQgd2FpdCBmcm9tICcuLi91dGlscy93YWl0JztcbmltcG9ydCB7IFNFTUFQSE9SRV9DT0xPUiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5cbnR5cGUgVGh1bmsgPSBUaHVua0Rpc3BhdGNoPHt9LCB1bmRlZmluZWQsIEFueUFjdGlvbj47XG5cbmNvbnN0IGdldEZldGNoQWN0aW9uID0gKHR5cGU6IHN0cmluZykgPT4gKHtcbiAgdHlwZSxcbiAgcGF5bG9hZDoge1xuICAgIGlzRmV0Y2hpbmc6IHRydWUsXG4gIH0sXG59KTtcblxuZGVzY3JpYmUoJ2NyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlIHdpdGggYWN0aW9uVHlwZXMgaW4gY29uZmlnJywgKCkgPT4ge1xuICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKHtcbiAgICBhY3Rpb25UeXBlczogWydSRUZSRVNIX0RBVEEnXSxcbiAgfSk7XG4gIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlLCB0aHVua107XG4gIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKG1pZGRsZXdhcmVzKTtcblxuICBpdCgnYWN0aW9uIERPRVMgTk9UIG1hdGNoIGNyaXRlcmlhJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1RFU1QnIH0pO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbeyB0eXBlOiAnVEVTVCcgfV0pO1xuICB9KTtcblxuICBpdCgnYWN0aW9uIE1BVENIRVMgY3JpdGVyaWEsIHN0YXR1cyBPTkxJTkUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1NPTUVfREFUQV9SRVFVRVNUJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2dldEZldGNoQWN0aW9uKCdGRVRDSF9TT01FX0RBVEFfUkVRVUVTVCcpXSk7XG4gIH0pO1xuXG4gIGl0KCdhY3Rpb24gTUFUQ0hFUyBjcml0ZXJpYSB0aHJvdWdoIFJFR0VYLCBzdGF0dXMgT0ZGTElORScsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1NPTUVfREFUQV9SRVFVRVNUJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2FjdGlvbkNyZWF0b3JzLmZldGNoT2ZmbGluZU1vZGUoYWN0aW9uKV0pO1xuICB9KTtcblxuICBpdCgnYWN0aW9uIE1BVENIRVMgY3JpdGVyaWEgdGhyb3VnaCBBUlJBWSBvZiBBQ1RJT04gVFlQRVMsIHN0YXR1cyBPRkZMSU5FJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignUkVGUkVTSF9EQVRBJyk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2FjdGlvbkNyZWF0b3JzLmZldGNoT2ZmbGluZU1vZGUoYWN0aW9uKV0pO1xuICB9KTtcblxuICBpdCgnYWN0aW9uIEVOUVVFVUVELCBzdGF0dXMgYmFjayBPTkxJTkUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYWN0aW9uMSA9IGdldEZldGNoQWN0aW9uKCdGRVRDSF9TT01FX0RBVEFfUkVRVUVTVCcpO1xuICAgIGNvbnN0IGFjdGlvbjIgPSBnZXRGZXRjaEFjdGlvbignRkVUQ0hfU09NRVRISU5HX0VMU0VfUkVRVUVTVCcpO1xuICAgIGNvbnN0IGFjdGlvbjMgPSBnZXRGZXRjaEFjdGlvbignRkVUQ0hfVVNFUl9SRVFVRVNUJyk7XG4gICAgY29uc3QgcHJldkFjdGlvblF1ZXVlID0gW2FjdGlvbjEsIGFjdGlvbjIsIGFjdGlvbjNdO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogcHJldkFjdGlvblF1ZXVlLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uQ3JlYXRvcnMuY29ubmVjdGlvbkNoYW5nZSh0cnVlKSk7XG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbYWN0aW9uQ3JlYXRvcnMuY29ubmVjdGlvbkNoYW5nZSh0cnVlKV0pO1xuICB9KTtcblxuICBpdCgnYWN0aW9uIEVOUVVFVUVELCBxdWV1ZSBQQVVTRUQsIHN0YXR1cyBxdWV1ZSBSRVNVTUVEJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbjEgPSBnZXRGZXRjaEFjdGlvbignRkVUQ0hfU09NRV9EQVRBX1JFUVVFU1QnKTtcbiAgICBjb25zdCBhY3Rpb24yID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1NPTUVUSElOR19FTFNFX1JFUVVFU1QnKTtcbiAgICBjb25zdCBhY3Rpb24zID0gZ2V0RmV0Y2hBY3Rpb24oJ0ZFVENIX1VTRVJfUkVRVUVTVCcpO1xuICAgIGNvbnN0IHByZXZBY3Rpb25RdWV1ZSA9IFthY3Rpb24xLCBhY3Rpb24yLCBhY3Rpb24zXTtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBpc1F1ZXVlUGF1c2VkOiB0cnVlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogcHJldkFjdGlvblF1ZXVlLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uQ3JlYXRvcnMuY2hhbmdlUXVldWVTZW1hcGhvcmUoU0VNQVBIT1JFX0NPTE9SLkdSRUVOKSk7XG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbXG4gICAgICBhY3Rpb25DcmVhdG9ycy5jaGFuZ2VRdWV1ZVNlbWFwaG9yZShTRU1BUEhPUkVfQ09MT1IuR1JFRU4pLFxuICAgIF0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCBOTyBDT05GSUcnLCAoKSA9PiB7XG4gIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoKTtcbiAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG5cbiAgaXQoJ1JFRlJFU0hfQUNUSU9OIGRvZXMgbm90IG1hdGNoIGluIHRoaXMgY2FzZSBpbiBPRkZMSU5FIG1vZGUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKTtcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbZ2V0RmV0Y2hBY3Rpb24oJ1JFRlJFU0hfREFUQScpXSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSB3aXRoIGRpZmZlcmVudCBSRUdFWCBjb25maWcnLCAoKSA9PiB7XG4gIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoe1xuICAgIHJlZ2V4QWN0aW9uVHlwZTogL1JFRlJFU0gvLFxuICB9KTtcbiAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG5cbiAgaXQoJ1JFRlJFU0hfQUNUSU9OIE1BVENIRVMgdGhyb3VnaCBSRUdFWCBpbiBPRkZMSU5FIG1vZGUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKTtcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbYWN0aW9uQ3JlYXRvcnMuZmV0Y2hPZmZsaW5lTW9kZShhY3Rpb24pXSk7XG4gIH0pO1xuXG4gIGl0KCdGRVRDSF9BQ1RJT04gdHlwZSBubyBsb25nZXIgbWF0Y2hlcyBkZWZhdWx0IFJFR0VYJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhY3Rpb25RdWV1ZTogW10sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRGZXRjaEFjdGlvbignRkVUQ0hfREFUQScpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFtnZXRGZXRjaEFjdGlvbignRkVUQ0hfREFUQScpXSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSB3aXRoIHRodW5rcycsICgpID0+IHtcbiAgLy8gSGVscGVyIHRvIHNpbXVsYXRlIGEgbmV0d29yayByZXF1ZXN0XG4gIGNvbnN0IGZldGNoTW9ja0RhdGEgPSAoZGlzcGF0Y2g6IERpc3BhdGNoKSA9PlxuICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0ZFVENIX0RBVEFfU1VDQ0VTUycgfSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0pO1xuXG4gIGNvbnN0IGZldGNoRGF0YSA9IChkaXNwYXRjaDogRGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdGRVRDSF9EQVRBX1JFUVVFU1QnIH0pO1xuICAgIHJldHVybiBmZXRjaE1vY2tEYXRhKGRpc3BhdGNoKTtcbiAgfTtcblxuICBmZXRjaERhdGEuaW50ZXJjZXB0SW5PZmZsaW5lID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBmZXRjaFNvbWV0aGluZ1dpdGhvdXRJbnRlcmNlcHRpb24oZGlzcGF0Y2g6IERpc3BhdGNoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKHsgdHlwZTogJ1RPR0dMRV9EUk9QRE9XTicgfSk7XG4gIH1cblxuICBpdCgndGh1bmsgZG9lcyBOT1QgbWF0Y2ggY3JpdGVyaWEnLCAoKSA9PiB7XG4gICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlLCB0aHVua107XG4gICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmU8e30sIFRodW5rPihtaWRkbGV3YXJlcyk7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goZmV0Y2hTb21ldGhpbmdXaXRob3V0SW50ZXJjZXB0aW9uKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgLy8gVGhlIGFjdGlvbiB3ZW50IHRocm91Z2ggYW5kIHdhcyBkaXNwYXRjaGVkXG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW3sgdHlwZTogJ1RPR0dMRV9EUk9QRE9XTicgfV0pO1xuICB9KTtcblxuICBpdCgndGh1bmsgTUFUQ0hFUyBjcml0ZXJpYSBhbmQgd2UgYXJlIE9GRkxJTkUnLCAoKSA9PiB7XG4gICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlLCB0aHVua107XG4gICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmU8e30sIFRodW5rPihtaWRkbGV3YXJlcyk7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goZmV0Y2hEYXRhKTtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KGFjdGlvbnMpLnRvRXF1YWwoW2FjdGlvbkNyZWF0b3JzLmZldGNoT2ZmbGluZU1vZGUoZmV0Y2hEYXRhKV0pO1xuICB9KTtcblxuICBpdCgndGh1bmsgZW5xdWV1ZWQsIHJlZ2V4IE1BVENIRVMgY3JpdGVyaWEsIGJhY2sgT05MSU5FIC0+IHRodW5rIGdldHMgcmVkaXNwYXRjaGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoKTtcbiAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZSwgdGh1bmtdO1xuICAgIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlPHt9LCBUaHVuaz4obWlkZGxld2FyZXMpO1xuICAgIChmZXRjaERhdGEgYXMgYW55KS5yZXRyeSA9IHRydWU7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtmZXRjaERhdGFdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG5cbiAgICBzdG9yZS5kaXNwYXRjaChmZXRjaERhdGEpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICAgIGV4cGVjdChhY3Rpb25zKS50b0VxdWFsKFtcbiAgICAgICAgYWN0aW9uQ3JlYXRvcnMucmVtb3ZlQWN0aW9uRnJvbVF1ZXVlKGZldGNoRGF0YSksXG4gICAgICAgIHsgdHlwZTogJ0ZFVENIX0RBVEFfUkVRVUVTVCcgfSxcbiAgICAgICAgeyB0eXBlOiAnRkVUQ0hfREFUQV9TVUNDRVNTJyB9LFxuICAgICAgXSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSB3aXRoIGRpc21pc3NpbmcgYWN0aW9ucyBmdW5jdGlvbmFsaXR5JywgKCkgPT4ge1xuICBkZXNjcmliZSgnUGxhaW4gb2JqZWN0cycsICgpID0+IHtcbiAgICBjb25zdCBnZXRGZXRjaEFjdGlvbldpdGhEaXNtaXNzID0gKFxuICAgICAgdHlwZTogc3RyaW5nLFxuICAgICAgLi4uYWN0aW9uc1RvRGlzbWlzczogc3RyaW5nW11cbiAgICApID0+ICh7XG4gICAgICB0eXBlLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBpc0ZldGNoaW5nOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgcmV0cnk6IHRydWUsXG4gICAgICAgIGRpc21pc3M6IGFjdGlvbnNUb0Rpc21pc3MsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaXQoJ05PIGFjdGlvbnMgZW5xdWV1ZWQgd2l0aCBkaXNtaXNzIG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gICAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG4gICAgICBjb25zdCBhY3Rpb25FbnF1ZXVlZCA9IGdldEZldGNoQWN0aW9uV2l0aERpc21pc3MoJ0ZFVENIX0RBVEEnKTtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSB7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9O1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGFjdGlvblF1ZXVlOiBbYWN0aW9uRW5xdWV1ZWRdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChuYXZpZ2F0aW9uQWN0aW9uKTtcblxuICAgICAgY29uc3QgYWN0aW9uc0Rpc3BhdGNoZWQgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgICBleHBlY3QoYWN0aW9uc0Rpc3BhdGNoZWQpLnRvRXF1YWwoW3sgdHlwZTogJ05BVklHQVRFX0JBQ0snIH1dKTtcbiAgICB9KTtcblxuICAgIGl0KCdTT01FIGFjdGlvbnMgZW5xdWV1ZWQgd2l0aCBkaXNtaXNzIG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gICAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG4gICAgICBjb25zdCBhY3Rpb25FbnF1ZXVlZCA9IGdldEZldGNoQWN0aW9uV2l0aERpc21pc3MoXG4gICAgICAgICdGRVRDSF9EQVRBJyxcbiAgICAgICAgJ05BVklHQVRFX0JBQ0snLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSB7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9O1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGFjdGlvblF1ZXVlOiBbYWN0aW9uRW5xdWV1ZWRdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChuYXZpZ2F0aW9uQWN0aW9uKTtcblxuICAgICAgY29uc3QgYWN0aW9uc0Rpc3BhdGNoZWQgPSBzdG9yZS5nZXRBY3Rpb25zKCk7XG4gICAgICBleHBlY3QoYWN0aW9uc0Rpc3BhdGNoZWQpLnRvRXF1YWwoW1xuICAgICAgICBhY3Rpb25DcmVhdG9ycy5kaXNtaXNzQWN0aW9uc0Zyb21RdWV1ZSgnTkFWSUdBVEVfQkFDSycpLFxuICAgICAgICB7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9LFxuICAgICAgXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnU09NRSBhY3Rpb25zIGVucXVldWVkIHdpdGggZGlzbWlzcyBvcHRpb25zLCBidXQgbm8gbWF0Y2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gICAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG4gICAgICBjb25zdCBhY3Rpb25FbnF1ZXVlZCA9IGdldEZldGNoQWN0aW9uV2l0aERpc21pc3MoXG4gICAgICAgICdGRVRDSF9EQVRBJyxcbiAgICAgICAgJ05BVklHQVRFX0JBQ0snLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25BY3Rpb24gPSB7IHR5cGU6ICdOQVZJR0FURV9UT19MT0dJTicgfTtcbiAgICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBhY3Rpb25RdWV1ZTogW2FjdGlvbkVucXVldWVkXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gobmF2aWdhdGlvbkFjdGlvbik7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnNEaXNwYXRjaGVkID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgICAgZXhwZWN0KGFjdGlvbnNEaXNwYXRjaGVkKS50b0VxdWFsKFt7IHR5cGU6ICdOQVZJR0FURV9UT19MT0dJTicgfV0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3RodW5rcycsICgpID0+IHtcbiAgICBmdW5jdGlvbiBmZXRjaFRodW5rKGRpc3BhdGNoOiBEaXNwYXRjaCkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnRkVUQ0hfREFUQV9SRVFVRVNUJyB9KTtcbiAgICB9XG5cbiAgICBpdCgnVGh1bmtzIGVucXVldWVkIHdpdGggTk8gZGlzbWlzcyBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSgpO1xuICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgICAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuICAgICAgKGZldGNoVGh1bmsgYXMgYW55KS5tZXRhID0ge1xuICAgICAgICByZXRyeTogdHJ1ZSxcbiAgICAgICAgZGlzbWlzczogW10sXG4gICAgICB9O1xuICAgICAgY29uc3QgbmF2aWdhdGlvbkFjdGlvbiA9IHsgdHlwZTogJ05BVklHQVRFX0JBQ0snIH07XG4gICAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgICAgYWN0aW9uUXVldWU6IFtmZXRjaFRodW5rXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gobmF2aWdhdGlvbkFjdGlvbik7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnNEaXNwYXRjaGVkID0gc3RvcmUuZ2V0QWN0aW9ucygpO1xuICAgICAgZXhwZWN0KGFjdGlvbnNEaXNwYXRjaGVkKS50b0VxdWFsKFt7IHR5cGU6ICdOQVZJR0FURV9CQUNLJyB9XSk7XG4gICAgfSk7XG5cbiAgICBpdCgnU09NRSB0aHVua3MgZW5xdWV1ZWQgd2l0aCBkaXNtaXNzIG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXR3b3JrTWlkZGxld2FyZSA9IGNyZWF0ZU5ldHdvcmtNaWRkbGV3YXJlKCk7XG4gICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IFtuZXR3b3JrTWlkZGxld2FyZV07XG4gICAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG4gICAgICAoZmV0Y2hUaHVuayBhcyBhbnkpLm1ldGEgPSB7XG4gICAgICAgIHJldHJ5OiB0cnVlLFxuICAgICAgICBkaXNtaXNzOiBbJ05BVklHQVRFX1RPX0xPR0lOJ10sXG4gICAgICB9O1xuICAgICAgY29uc3QgbmF2aWdhdGlvbkFjdGlvbiA9IHsgdHlwZTogJ05BVklHQVRFX1RPX0xPR0lOJyB9O1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGFjdGlvblF1ZXVlOiBbZmV0Y2hUaHVua10sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKG5hdmlnYXRpb25BY3Rpb24pO1xuXG4gICAgICBjb25zdCBhY3Rpb25zRGlzcGF0Y2hlZCA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICAgIGV4cGVjdChhY3Rpb25zRGlzcGF0Y2hlZCkudG9FcXVhbChbXG4gICAgICAgIGFjdGlvbkNyZWF0b3JzLmRpc21pc3NBY3Rpb25zRnJvbVF1ZXVlKCdOQVZJR0FURV9UT19MT0dJTicpLFxuICAgICAgICB7IHR5cGU6ICdOQVZJR0FURV9UT19MT0dJTicgfSxcbiAgICAgIF0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCBxdWV1ZURlc2VsZWN0b3InLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tEZXF1ZXVlU2VsZWN0b3IgPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoe1xuICAgIHNob3VsZERlcXVldWVTZWxlY3RvcjogbW9ja0RlcXVldWVTZWxlY3RvcixcbiAgfSk7XG4gIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgY29uc3QgbW9ja1N0b3JlID0gY29uZmlndXJlU3RvcmUobWlkZGxld2FyZXMpO1xuXG4gIGl0KCdQcm94aWVzIGFjdGlvbiB0byBuZXh0IG1pZGRsZXdhcmUgaWYgZGVzZWxlY3RvciByZXR1cm5zIGZhbHNlJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKTtcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlLmdldEFjdGlvbnMoKTtcbiAgICBleHBlY3QoYWN0aW9ucykudG9FcXVhbChbZ2V0RmV0Y2hBY3Rpb24oJ1JFRlJFU0hfREFUQScpXSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdjcmVhdGVSZWxlYXNlUXVldWUnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja0dldFN0YXRlID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrRGVxdWV1ZVNlbGVjdG9yID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrRGVsYXkgPSA1MDtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrRGVxdWV1ZVNlbGVjdG9yLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB0cnVlKTtcbiAgICBtb2NrR2V0U3RhdGUubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBpc1F1ZXVlUGF1c2VkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIG1vY2tEaXNwYXRjaC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrR2V0U3RhdGUubW9ja0NsZWFyKCk7XG4gIH0pO1xuXG4gIGl0KCdlbXB0aWVzIHRoZSBxdWV1ZSBpZiB3ZSBhcmUgb25saW5lIGFuZCBxdWV1ZSBpcyBub3QgaGFsdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlbGVhc2VRdWV1ZSA9IGNyZWF0ZVJlbGVhc2VRdWV1ZShcbiAgICAgIG1vY2tHZXRTdGF0ZSxcbiAgICAgIG1vY2tEaXNwYXRjaCxcbiAgICAgIG1vY2tEZWxheSxcbiAgICAgIG1vY2tEZXF1ZXVlU2VsZWN0b3IsXG4gICAgKTtcbiAgICBjb25zdCBmb28gPSB7IHR5cGU6ICdmb28nLCBwYXlsb2FkOiB7fSB9O1xuICAgIGNvbnN0IGJhciA9IHsgdHlwZTogJ2JhcicsIHBheWxvYWQ6IHt9IH07XG4gICAgY29uc3QgYWN0aW9uUXVldWUgPSBbZm9vLCBiYXJdO1xuICAgIGF3YWl0IHJlbGVhc2VRdWV1ZShhY3Rpb25RdWV1ZSk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDQpO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5OdGhDYWxsZWRXaXRoKFxuICAgICAgMSxcbiAgICAgIGFjdGlvbkNyZWF0b3JzLnJlbW92ZUFjdGlvbkZyb21RdWV1ZShmb28pLFxuICAgICk7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbk50aENhbGxlZFdpdGgoMiwgZm9vKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuTnRoQ2FsbGVkV2l0aChcbiAgICAgIDMsXG4gICAgICBhY3Rpb25DcmVhdG9ycy5yZW1vdmVBY3Rpb25Gcm9tUXVldWUoYmFyKSxcbiAgICApO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5OdGhDYWxsZWRXaXRoKDQsIGJhcik7XG4gIH0pO1xuXG4gIGl0KCdkb2VzIG5vdCBlbXB0eSB0aGUgcXVldWUgaWYgZGVxdWV1ZSBzZWxlY3RvciByZXR1cm5zIGZhbHNlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlbGVhc2VRdWV1ZSA9IGNyZWF0ZVJlbGVhc2VRdWV1ZShcbiAgICAgIG1vY2tHZXRTdGF0ZSxcbiAgICAgIG1vY2tEaXNwYXRjaCxcbiAgICAgIG1vY2tEZWxheSxcbiAgICAgICgpID0+IGZhbHNlLFxuICAgICk7XG4gICAgY29uc3QgZm9vID0geyB0eXBlOiAnZm9vJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBiYXIgPSB7IHR5cGU6ICdiYXInLCBwYXlsb2FkOiB7fSB9O1xuICAgIGNvbnN0IGFjdGlvblF1ZXVlID0gW2ZvbywgYmFyXTtcbiAgICBhd2FpdCByZWxlYXNlUXVldWUoYWN0aW9uUXVldWUpO1xuICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygwKTtcbiAgfSk7XG5cbiAgaXQoJ2RvZXMgbm90IGVtcHR5IHRoZSBxdWV1ZSBpZiBxdWV1ZSBoYXMgYmVlbiBoYWx0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja0dldFN0YXRlLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc1F1ZXVlUGF1c2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KSk7XG4gICAgY29uc3QgcmVsZWFzZVF1ZXVlID0gY3JlYXRlUmVsZWFzZVF1ZXVlKFxuICAgICAgbW9ja0dldFN0YXRlLFxuICAgICAgbW9ja0Rpc3BhdGNoLFxuICAgICAgbW9ja0RlbGF5LFxuICAgICAgbW9ja0RlcXVldWVTZWxlY3RvcixcbiAgICApO1xuICAgIGNvbnN0IGZvbyA9IHsgdHlwZTogJ2ZvbycsIHBheWxvYWQ6IHt9IH07XG4gICAgY29uc3QgYmFyID0geyB0eXBlOiAnYmFyJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBhY3Rpb25RdWV1ZSA9IFtmb28sIGJhcl07XG4gICAgYXdhaXQgcmVsZWFzZVF1ZXVlKGFjdGlvblF1ZXVlKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNwYXRjaGVzIG9ubHkgZHVyaW5nIHRoZSBvbmxpbmUgd2luZG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHN3aXRjaFRvT2ZmbGluZSA9ICgpID0+XG4gICAgICBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgYXdhaXQgd2FpdCgzMCk7XG4gICAgICAgIG1vY2tHZXRTdGF0ZS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICBjb25zdCByZWxlYXNlUXVldWUgPSBjcmVhdGVSZWxlYXNlUXVldWUoXG4gICAgICBtb2NrR2V0U3RhdGUsXG4gICAgICBtb2NrRGlzcGF0Y2gsXG4gICAgICBtb2NrRGVsYXksXG4gICAgICBtb2NrRGVxdWV1ZVNlbGVjdG9yLFxuICAgICk7XG4gICAgY29uc3QgZm9vID0geyB0eXBlOiAnZm9vJywgcGF5bG9hZDoge30gfTtcbiAgICBjb25zdCBiYXIgPSB7IHR5cGU6ICdiYXInLCBwYXlsb2FkOiB7fSB9O1xuICAgIGNvbnN0IGFjdGlvblF1ZXVlID0gW2ZvbywgYmFyXTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbcmVsZWFzZVF1ZXVlKGFjdGlvblF1ZXVlKSwgc3dpdGNoVG9PZmZsaW5lKCldKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbk50aENhbGxlZFdpdGgoXG4gICAgICAxLFxuICAgICAgYWN0aW9uQ3JlYXRvcnMucmVtb3ZlQWN0aW9uRnJvbVF1ZXVlKGZvbyksXG4gICAgKTtcbiAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuTnRoQ2FsbGVkV2l0aCgyLCBmb28pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY3JlYXRlTmV0d29ya01pZGRsZXdhcmUgd2l0aCB3cm9uZyB0eXBlIHBhcmFtcycsICgpID0+IHtcbiAgaXQoJ2ludmFsaWQgcmVnZXgnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgbmV0d29yazoge1xuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGFjdGlvblF1ZXVlOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICAvLyB0eXBlY2FzdGluZyBhcyBhbnkgYmVjYXVzZSBvdGhlcndpc2UgVFMgd29uJ3QgbGV0IHlvdSBzZW5kIGEgc3RyaW5nXG4gICAgY29uc3QgbmV0d29ya01pZGRsZXdhcmUgPSBjcmVhdGVOZXR3b3JrTWlkZGxld2FyZSh7XG4gICAgICByZWdleEFjdGlvblR5cGU6ICdSRUZSRVNIJyBhcyBhbnksXG4gICAgfSk7XG4gICAgY29uc3QgbWlkZGxld2FyZXMgPSBbbmV0d29ya01pZGRsZXdhcmVdO1xuICAgIGNvbnN0IG1vY2tTdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKG1pZGRsZXdhcmVzKTtcblxuICAgIGNvbnN0IHN0b3JlID0gbW9ja1N0b3JlKGluaXRpYWxTdGF0ZSk7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0RmV0Y2hBY3Rpb24oJ1JFRlJFU0hfREFUQScpO1xuXG4gICAgZXhwZWN0KCgpID0+IHN0b3JlLmRpc3BhdGNoKGFjdGlvbikpLnRvVGhyb3coXG4gICAgICAnWW91IHNob3VsZCBwYXNzIGEgcmVnZXggYXMgcmVnZXhBY3Rpb25UeXBlIHBhcmFtJyxcbiAgICApO1xuICB9KTtcblxuICBpdCgnaW52YWxpZCBhY3Rpb25UeXBlcycsICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBuZXR3b3JrOiB7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uUXVldWU6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IG5ldHdvcmtNaWRkbGV3YXJlID0gY3JlYXRlTmV0d29ya01pZGRsZXdhcmUoe1xuICAgICAgYWN0aW9uVHlwZXM6ICdSRUZSRVNIJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gW25ldHdvcmtNaWRkbGV3YXJlXTtcbiAgICBjb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVTdG9yZShtaWRkbGV3YXJlcyk7XG5cbiAgICBjb25zdCBzdG9yZSA9IG1vY2tTdG9yZShpbml0aWFsU3RhdGUpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEZldGNoQWN0aW9uKCdSRUZSRVNIX0RBVEEnKTtcblxuICAgIGV4cGVjdCgoKSA9PiBzdG9yZS5kaXNwYXRjaChhY3Rpb24pKS50b1Rocm93KFxuICAgICAgJ1lvdSBzaG91bGQgcGFzcyBhbiBhcnJheSBhcyBhY3Rpb25UeXBlcyBwYXJhbScsXG4gICAgKTtcbiAgfSk7XG59KTtcbiJdfQ==