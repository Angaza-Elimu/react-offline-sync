55b84e752babfad79573afd25bbb12bb
Object.defineProperty(exports, "__esModule", { value: true });exports.default = render;var _defineProperty2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/defineProperty"));var React = require("@babel/runtime/helpers/interopRequireWildcard")(require("react"));var _reactTestRenderer = require("@babel/runtime/helpers/interopRequireDefault")(require("react-test-renderer"));var _act = require("@babel/runtime/helpers/interopRequireDefault")(require("./act"));var _a11yAPI = require("@babel/runtime/helpers/interopRequireDefault")(require("./helpers/a11yAPI"));var _debugShallow = require("@babel/runtime/helpers/interopRequireDefault")(require("./helpers/debugShallow"));var _debugDeep = require("@babel/runtime/helpers/interopRequireDefault")(require("./helpers/debugDeep"));var _jsxFileName = "/Users/thymikee/Projects/callstack/react-native-testing-library/src/render.js";function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {(0, _defineProperty2.default)(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function render(component) {var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},Wrapper = _ref.wrapper,createNodeMock = _ref.createNodeMock;var wrap = function wrap(innerElement) {return Wrapper ? React.createElement(Wrapper, { __source: { fileName: _jsxFileName, lineNumber: 30, columnNumber: 15 } }, innerElement) : innerElement;};var renderer = renderWithAct(wrap(component), createNodeMock ? { createNodeMock: createNodeMock } : undefined);var update = updateWithAct(renderer, wrap);var instance = renderer.root;(0, require("./cleanup").addToCleanupQueue)(renderer.unmount);return _objectSpread({}, (0, require("./helpers/getByAPI").getByAPI)(instance), {}, (0, require("./helpers/queryByAPI").queryByAPI)(instance), {}, (0, require("./helpers/findByAPI").findByAPI)(instance), {}, (0, _a11yAPI.default)(instance), { update: update, rerender: update, unmount: renderer.unmount, toJSON: renderer.toJSON, debug: debug(instance, renderer) });}function renderWithAct(component, options) {var renderer;(0, _act.default)(function () {renderer = _reactTestRenderer.default.create(component, options);});return renderer;}function updateWithAct(renderer, wrap) {return function (component) {(0, _act.default)(function () {renderer.update(wrap(component));});};}function debug(instance, renderer) {function debugImpl(message) {return (0, _debugDeep.default)(renderer.toJSON(), message);}debugImpl.shallow = function (message) {return (0, _debugShallow.default)(instance, message);};return debugImpl;}